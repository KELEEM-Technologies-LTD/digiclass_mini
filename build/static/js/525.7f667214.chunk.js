"use strict";(self.webpackChunkdigiclass_mini=self.webpackChunkdigiclass_mini||[]).push([[525],{9525:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(4165),a=n(5861),s=n(9439),i=n(2791),c=n(2592),o=n(4849),l=n(3908),u=n(5240),d=n(5770),m=n(2981),p=n(7689),f=n(1087),x=n(4880),h=n(106),g=(n(456),n(184));var v=function(e){e.icon;var t=e.className,n=e.error,r=e.placeholder,a=e.onChange,c=(0,i.useState)(!1),o=(0,s.Z)(c,2),l=o[0],u=o[1],d=n?"ring-1 ring-secondary":"";return(0,g.jsxs)("div",{className:"".concat(t),children:[(0,g.jsx)("input",{"data-testid":"input",className:"focus:outline-none px-4 font-serif bg-white w-full ".concat(d," "),type:l?"text":"password",placeholder:r,onChange:a}),(0,g.jsx)("span",{onClick:function(){return u(!l)},className:"flex justify-center items-center px-4",children:l?(0,g.jsx)("i",{className:"fa fa-eye text-sm"}):(0,g.jsx)("i",{className:"fa fa-eye-slash text-sm"})})]})};function b(){var e,t=(0,i.useContext)(u.Z),n=t.loading,b=t.theme,y=t.corpid;document.title="".concat(null===b||void 0===b?void 0:b.name," - DigiClass");var w=(0,p.s0)(),j=(0,i.useState)(""),N=(0,s.Z)(j,2),k=N[0],Z=N[1],C=(0,i.useState)(""),S=(0,s.Z)(C,2),P=S[0],E=S[1],I=(0,i.useState)(""),U=(0,s.Z)(I,2),_=U[0],D=U[1],A=(0,i.useState)(""),T=(0,s.Z)(A,2),q=T[0],B=T[1],R=(0,i.useState)(""),z=(0,s.Z)(R,2),L=z[0],O=z[1],W=(0,i.useState)(!1),Y=(0,s.Z)(W,2),F=Y[0],H=Y[1],J=(0,i.useState)(!1),$=(0,s.Z)(J,2),G=$[0],K=$[1],M=(0,i.useState)(""),Q=(0,s.Z)(M,2),V=Q[0],X=(Q[1],(0,i.useState)("")),ee=(0,s.Z)(X,2),te=(ee[0],ee[1]),ne=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s,i,c,o,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F){e.next=4;break}return(0,h.e)("Please accept the terms and conditions"),e.abrupt("return");case 4:if(ae(_)){e.next=7;break}return(0,h.e)("Please enter correct email with"),e.abrupt("return");case 7:if(q){e.next=10;break}return(0,h.e)("Please enter a password!"),e.abrupt("return");case 10:if(!(q.length<6)){e.next=13;break}return(0,h.e)("Password must be more than 6!"),e.abrupt("return");case 13:if(q){e.next=16;break}return(0,h.e)("Please enter a password!"),e.abrupt("return");case 16:if(q===L){e.next=19;break}return(0,h.e)("Passwords dose not match!"),e.abrupt("return");case 19:if(k){e.next=22;break}return(0,h.e)("Please enter first name!"),e.abrupt("return");case 22:if(P){e.next=25;break}return(0,h.e)("Please enter last name!"),e.abrupt("return");case 25:return K(!0),e.prev=26,s={first_name:k,last_name:P,email:_,password:q},e.next=30,d.Z.post(m.Z.signup+"/".concat(y),s);case 30:return i=e.sent,c=null===(n=i.data)||void 0===n?void 0:n.data,console.log(c),x.d.saveUserData(c.user),x.d.saveAccessToken(c.token),e.next=37,d.Z.get(m.Z.get_signup_questions+"/".concat(y));case 37:o=e.sent,(l=null===(a=o.data)||void 0===a?void 0:a.data).length>=1?(K(!1),u={questions:l,user:c.user},(0,h.BY)("Sign up successfully"),w("/sign-up/questions/".concat(y),{state:u})):(K(!1),(0,h.BY)("Sign up successfully"),w("/sign-in/".concat(y))),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(26),K(!1),console.log(e.t0);case 46:case"end":return e.stop()}}),e,null,[[26,42]])})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){re()}),[]);var re=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.d.getAccessToken();case 2:return t=e.sent,e.next=5,x.d.retrieveUserData();case 5:if(n=e.sent,null===t||null===n){e.next=10;break}window.location.href="/main/".concat(y),e.next=12;break;case 10:return e.next=12,x.d.clearStorage();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ae(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}return n?(0,g.jsx)(l.Z,{}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"bg-light",style:{minHeight:"100vh"},children:(0,g.jsx)("div",{style:{},className:"flex flex-col justify-center  md:items-center py-8",children:(0,g.jsxs)("div",{className:" md:w-3/12 md:p-0 px-6",children:[(0,g.jsx)("div",{className:"flex flex-col",children:(0,g.jsx)("div",{className:"flex justify-center items-center mb-3",children:(0,g.jsx)(c.Z,{fluid:!0,src:null!==(e=null===b||void 0===b?void 0:b.img)&&void 0!==e?e:"/logo.png",alt:"Logo",style:{height:"100px"}})})}),(0,g.jsx)("p",{className:"text-2xl mb-3 font-bold text-dark",children:"Sign up and start learning"}),(0,g.jsx)("small",{className:"text-danger",children:V}),(0,g.jsxs)("form",{action:"",onSubmit:ne,children:[(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)("input",{type:"text",name:"fname",className:"py-3 px-4 w-full placeholder:text-sm border border-black rounded bg-white outline-none",placeholder:"Enter your first name",value:k,onChange:function(e){return Z(e.target.value)}})}),(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)("input",{type:"text",className:"py-3 px-4 w-full placeholder:text-sm border border-black rounded bg-white outline-none",placeholder:"Enter your last name",name:"lname",value:P,onChange:function(e){return E(e.target.value)}})}),(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)("input",{type:"email",className:"py-3 px-4 w-full placeholder:text-sm border border-black rounded bg-white outline-none",placeholder:"Enter your email",value:_,onChange:function(e){return D(e.target.value)}})}),(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)(v,{placeholder:"Enter your password",style:{borderWidth:"2px"},className:"flex py-3 placeholder:text-sm border-black border rounded bg-white justify-between",name:"password",value:q,onChange:function(e){return B(e.target.value)}})}),(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)(v,{placeholder:"Confirm Password",style:{borderWidth:"2px"},className:"flex py-3 placeholder:text-sm border-black border rounded bg-white justify-between",name:"cpassword",value:L,onChange:function(e){return O(e.target.value)}})}),(0,g.jsx)("div",{className:"flex flex-col items-center mt-3 justify-center",children:(0,g.jsxs)("div",{className:"text-center text-sm",children:[(0,g.jsx)("label",{className:"cursor-pointer mr-2",children:(0,g.jsx)("input",{type:"checkbox",checked:F,onChange:function(e){H(e.target.checked),te("")},className:"p-0.5 cursor-pointer"})}),'By clicking "Sign up", you agree to'," ",(0,g.jsx)(f.rU,{to:"http://kelemm-digiclass.herokuapp.com/privacy-policy",className:"text-gray-600",children:"DigiClass Terms & Conditions"})]})}),(0,g.jsx)("div",{className:"mt-6 text-center",children:(0,g.jsx)("button",{style:{backgroundColor:null===b||void 0===b?void 0:b.primary_color},type:"submit",className:"inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent px-4 py-2 text-base font-medium text-white",children:G?(0,g.jsx)(o.Z,{}):(0,g.jsx)("p",{className:"text-white",children:"Sign Up"})})}),(0,g.jsxs)("div",{className:"flex items-center mt-6 justify-center",children:[(0,g.jsx)("p",{children:"Already on Digiclass?"}),(0,g.jsx)(f.rU,{to:"/sign-in/".concat(y),children:(0,g.jsx)("p",{className:"ml-2 text-secondary-700",children:"Login"})})]})]})]})})})})}},456:function(e,t,n){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,s=0,i=0,c="";a=t.charAt(i++);~a&&(n=s%4?64*n+a:a,s++%4)?c+=String.fromCharCode(255&n>>(-2*s&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return c};function s(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return a(t)}}function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(s(e.split(".")[n]))}catch(e){throw new i("Invalid token specified: "+e.message)}}},2592:function(e,t,n){var r=n(1413),a=n(5987),s=n(1694),i=n.n(s),c=n(2791),o=n(2007),l=n.n(o),u=n(162),d=n(184),m=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],p=(l().string,l().bool,l().bool,l().bool,l().bool,c.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,c=e.fluid,o=void 0!==c&&c,l=e.rounded,p=void 0!==l&&l,f=e.roundedCircle,x=void 0!==f&&f,h=e.thumbnail,g=void 0!==h&&h,v=(0,a.Z)(e,m);return n=(0,u.vE)(n,"img"),(0,d.jsx)("img",(0,r.Z)((0,r.Z)({ref:t},v),{},{className:i()(s,o&&"".concat(n,"-fluid"),p&&"rounded",x&&"rounded-circle",g&&"".concat(n,"-thumbnail"))}))})));p.displayName="Image",t.Z=p},4849:function(e,t,n){var r=n(1413),a=n(5987),s=n(1694),i=n.n(s),c=n(2791),o=n(162),l=n(184),u=["bsPrefix","variant","animation","size","as","className"],d=c.forwardRef((function(e,t){var n=e.bsPrefix,s=e.variant,c=e.animation,d=void 0===c?"border":c,m=e.size,p=e.as,f=void 0===p?"div":p,x=e.className,h=(0,a.Z)(e,u);n=(0,o.vE)(n,"spinner");var g="".concat(n,"-").concat(d);return(0,l.jsx)(f,(0,r.Z)((0,r.Z)({ref:t},h),{},{className:i()(x,g,m&&"".concat(g,"-").concat(m),s&&"text-".concat(s))}))}));d.displayName="Spinner",t.Z=d}}]);
//# sourceMappingURL=525.7f667214.chunk.js.map