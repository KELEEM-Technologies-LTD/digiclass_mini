{"version":3,"file":"static/js/519.45e48449.chunk.js","mappings":"kOA8DA,UAtD2B,WACzB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,EAAe,IAAIC,gBAAgBH,EAASI,QAC5CC,EAASH,EAAaI,IAAI,UAC1BC,EAAYL,EAAaI,IAAI,aAC3BE,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAiB,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACpBd,IAAaF,EAAM,CAAAc,EAAAE,KAAA,SAKqB,OAJpCL,EAAc,CAClBT,UAAWA,GAGPU,EAAOK,EAAAA,EAAAA,mBAA6BH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAElCE,EAAAA,EAAAA,IACJC,EAAAA,EAAAA,mBAAuB,IAAAC,OAAOR,EAAKS,SACnCV,GACA,KAAD,GAEDW,EAAAA,EAAAA,IAAe,0BAA0B,WACvCC,OAAO5B,SAAS6B,KAAI,YAAAJ,OAAejB,EAAO,SAC5C,IAAGW,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAW,GAAAX,EAAA,UAEHY,EAAAA,EAAAA,GAAe,kCAAmC,KAAM,WACtDH,OAAO5B,SAAS6B,KAAI,YAAAJ,OAAejB,EAAO,SAC5C,IACAwB,QAAQC,IAAGd,EAAAW,IAAQ,QAAAX,EAAAE,KAAA,kBAGrBU,EAAAA,EAAAA,GACE,4DACA,KACA,WACEH,OAAO5B,SAAS6B,KAAI,YAAAJ,OAAejB,EAAO,SAC5C,IACA,yBAAAW,EAAAe,OAAA,GAAAnB,EAAA,kBAEL,kBA/BsB,OAAAJ,EAAAwB,MAAA,KAAAC,UAAA,KAsCvB,OALAC,EAAAA,EAAAA,YAAU,WAER3B,GACF,GAAG,KAGD4B,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,2DAA0DD,UACvEF,EAAAA,EAAAA,KAACI,EAAAA,EAAgB,CAACC,MAAM,UAAUC,KAAM,GAAIC,UAAW,OAI/D,C","sources":["pages/verify-payment.tsx"],"sourcesContent":["import { useLocation, useParams } from \"react-router-dom\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { useEffect } from \"react\";\r\nimport { StorageBox } from \"../core/storage\";\r\nimport baseService from \"../core/baseServices\";\r\nimport urls from \"../core/base.url\";\r\nimport { displaySuccess, displayWarning } from \"../components/alert\";\r\n\r\nconst VerifyTransactions = () => {\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const trxRef = searchParams.get(\"trxref\");\r\n  const reference = searchParams.get(\"reference\");\r\n  const { corp_id } = useParams();\r\n\r\n  const verifyTransaction = async () => {\r\n    if (reference && trxRef) {\r\n      const verify_data = {\r\n        reference: reference,\r\n      };\r\n      //   console.log(verify_data);\r\n      const user = StorageBox.retrieveUserData();\r\n      try {\r\n        await baseService.put(\r\n          urls.verifyTransactions + `/${user.user_id}`,\r\n          verify_data\r\n        );\r\n\r\n        displaySuccess(\"Transaction successful\", () => {\r\n          window.location.href = `/account/${corp_id}?tab=2`;\r\n        });\r\n      } catch (error) {\r\n        displayWarning(\"Transaction verification failed\", 2000, () => {\r\n          window.location.href = `/account/${corp_id}?tab=2`;\r\n        });\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      displayWarning(\r\n        \"Transaction verification failed, transaction id not found\",\r\n        2000,\r\n        () => {\r\n          window.location.href = `/account/${corp_id}?tab=2`;\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // console.log(corp_id);\r\n    verifyTransaction();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex items-center justify-center h-screen bg-primary-200\">\r\n        <CircularProgress color=\"primary\" size={60} thickness={5} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerifyTransactions;\r\n"],"names":["location","useLocation","searchParams","URLSearchParams","search","trxRef","get","reference","corp_id","useParams","verifyTransaction","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","verify_data","user","wrap","_context","prev","next","StorageBox","baseService","urls","concat","user_id","displaySuccess","window","href","t0","displayWarning","console","log","stop","apply","arguments","useEffect","_jsx","_Fragment","children","className","CircularProgress","color","size","thickness"],"sourceRoot":""}