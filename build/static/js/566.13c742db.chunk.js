"use strict";(self.webpackChunkdigiclass_mini=self.webpackChunkdigiclass_mini||[]).push([[566],{4566:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(4165),a=n(5861),s=n(3433),i=n(7762),c=n(9439),l=n(2791),o=n(7689),u=n(5240),f=n(5770),d=n(2981),p=n(106),m=n(4849),v=n(4880),x=n(184);function h(){var e=(0,l.useContext)(u.Z),t=e.theme,n=e.corpid,h=(0,o.TH)().state,b=h.questions,g=h.user,y=(0,o.s0)(),Z=(0,l.useState)([]),w=(0,c.Z)(Z,2),N=w[0],j=w[1],k=(0,l.useState)(!1),S=(0,c.Z)(k,2),_=S[0],q=S[1];(0,l.useEffect)((function(){var e=[];if(b){var t,n=(0,i.Z)(b);try{for(n.s();!(t=n.n()).done;){var r={question:t.value.field,answer:""};e.push(r)}}catch(a){n.e(a)}finally{n.f()}j(e)}}),[]);var C=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!N.some((function(e){return""===e.answer.trim()}))){e.next=5;break}return(0,p.e)("Please answer all questions!"),e.abrupt("return");case 5:return q(!0),e.prev=6,s={questions:JSON.stringify(N)},e.next=10,f.Z.put(d.Z.updateProfile+"/".concat(g.user_id),s);case 10:return e.next=12,f.Z.get(d.Z.get_corporate+"/".concat(n,"?"));case 12:i=e.sent,(null===(a=i.data)||void 0===a?void 0:a.data).verify_auth&&"pending"===g.user_state?(v.d.clearStorage(),(0,p.BY)("Account set up successfully! However, it will need approval. "),q(!1),y("/sign-in/".concat(n))):(q(!1),y("/main/".concat(n))),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),q(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"flex lg:pt-12 lg:pb-8 py-8 flex-col items-center w-full justify-start min-h-screen px-4",children:[(0,x.jsx)("h1",{className:"lg:font-bold font-semibold mb-5 lg:text-center text-left lg:text-4xl text-xl",children:"Help us serve you better."}),(0,x.jsx)("div",{className:"",children:(0,x.jsxs)("form",{onSubmit:C,children:[N.map((function(e,t){return(0,x.jsxs)("div",{className:"flex flex-col items-start gap-y-3 my-3",children:[(0,x.jsx)("label",{htmlFor:"name",className:"text-sm font-medium cursor-pointer",children:e.question}),(0,x.jsx)("input",{id:"name",type:"text",value:e.answer,onChange:function(e){return function(e,t){var n=(0,s.Z)(N);n[e].answer=t.target.value,j(n)}(t,e)},className:"w-full p-2 bg-transparent border border-gray-200 rounded-lg outline-none",placeholder:"Type answer here"})]},t)})),(0,x.jsx)("button",{style:{backgroundColor:null===t||void 0===t?void 0:t.primary_color},type:"submit",className:"inline-flex py-2 px-4 text-white",children:_?(0,x.jsx)(m.Z,{}):"Submit"})]})})]})}},4849:function(e,t,n){var r=n(1413),a=n(5987),s=n(1694),i=n.n(s),c=n(2791),l=n(162),o=n(184),u=["bsPrefix","variant","animation","size","as","className"],f=c.forwardRef((function(e,t){var n=e.bsPrefix,s=e.variant,c=e.animation,f=void 0===c?"border":c,d=e.size,p=e.as,m=void 0===p?"div":p,v=e.className,x=(0,a.Z)(e,u);n=(0,l.vE)(n,"spinner");var h="".concat(n,"-").concat(f);return(0,o.jsx)(m,(0,r.Z)((0,r.Z)({ref:t},x),{},{className:i()(v,h,d&&"".concat(h,"-").concat(d),s&&"text-".concat(s))}))}));f.displayName="Spinner",t.Z=f}}]);
//# sourceMappingURL=566.13c742db.chunk.js.map