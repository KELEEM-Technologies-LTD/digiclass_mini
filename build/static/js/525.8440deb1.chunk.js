"use strict";(self.webpackChunkdigiclass_mini=self.webpackChunkdigiclass_mini||[]).push([[525],{9525:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(4165),r=n(5861),s=n(9439),o=n(2791),i=n(2592),c=n(4849),l=n(3908),u=n(5240),d=n(5770),p=n(2981),m=n(7689),f=n(1087),g=n(4880),h=n(106),x=n(456),v=n(184);var b=function(e){e.icon;var t=e.className,n=e.error,a=e.placeholder,r=e.onChange,i=(0,o.useState)(!1),c=(0,s.Z)(i,2),l=c[0],u=c[1],d=n?"ring-1 ring-secondary":"";return(0,v.jsxs)("div",{className:"".concat(t),children:[(0,v.jsx)("input",{"data-testid":"input",className:"focus:outline-none px-4 font-serif bg-white w-full ".concat(d," "),type:l?"text":"password",placeholder:a,onChange:r}),(0,v.jsx)("span",{onClick:function(){return u(!l)},className:"flex justify-center items-center px-4",children:l?(0,v.jsx)("i",{className:"fa fa-eye text-sm"}):(0,v.jsx)("i",{className:"fa fa-eye-slash text-sm"})})]})};function y(){var e,t=(0,o.useContext)(u.Z),n=t.loading,y=t.theme,w=t.corpid;document.title="".concat(null===y||void 0===y?void 0:y.name," - DigiClass");var j=(0,m.s0)(),k=(0,o.useState)(""),N=(0,s.Z)(k,2),Z=N[0],C=N[1],S=(0,o.useState)(""),_=(0,s.Z)(S,2),P=_[0],q=_[1],E=(0,o.useState)(""),A=(0,s.Z)(E,2),I=A[0],U=A[1],B=(0,o.useState)(""),D=(0,s.Z)(B,2),T=D[0],z=D[1],Y=(0,o.useState)(""),L=(0,s.Z)(Y,2),R=L[0],O=L[1],W=(0,o.useState)(!1),F=(0,s.Z)(W,2),H=F[0],J=F[1],$=(0,o.useState)(!1),G=(0,s.Z)($,2),K=G[0],M=G[1],Q=(0,o.useState)(""),V=(0,s.Z)(Q,2),X=V[0],ee=(V[1],(0,o.useState)("")),te=(0,s.Z)(ee,2),ne=(te[0],te[1]),ae=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s,o,i,c,l,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),H){e.next=4;break}return(0,h.e)("Please accept the terms and conditions"),e.abrupt("return");case 4:if(oe(I)){e.next=7;break}return(0,h.e)("Please enter correct email with"),e.abrupt("return");case 7:if(T){e.next=10;break}return(0,h.e)("Please enter a password!"),e.abrupt("return");case 10:if(!(T.length<6)){e.next=13;break}return(0,h.e)("Password must be more than 6!"),e.abrupt("return");case 13:if(T){e.next=16;break}return(0,h.e)("Please enter a password!"),e.abrupt("return");case 16:if(T===R){e.next=19;break}return(0,h.e)("Passwords dose not match!"),e.abrupt("return");case 19:if(Z){e.next=22;break}return(0,h.e)("Please enter first name!"),e.abrupt("return");case 22:if(P){e.next=25;break}return(0,h.e)("Please enter last name!"),e.abrupt("return");case 25:return M(!0),e.prev=26,s={first_name:Z,last_name:P,email:I,password:T},e.next=30,d.Z.post(p.Z.signup+"/".concat(w),s);case 30:return o=e.sent,i=null===(n=o.data)||void 0===n?void 0:n.data,console.log(i),g.d.saveUserData(i.user),g.d.saveAccessToken(i.token),e.next=37,d.Z.get(p.Z.get_signup_questions+"/".concat(w));case 37:c=e.sent,(l=null===(r=c.data)||void 0===r?void 0:r.data).length>=1?(M(!1),u={questions:l,user:i.user},(0,h.BY)("Sign up successfully"),j("/sign-up/questions/".concat(w),{state:u})):(M(!1),(0,h.BY)("Sign up successfully"),j("/sign-in/".concat(w))),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(26),M(!1),console.log(e.t0);case 46:case"end":return e.stop()}}),e,null,[[26,42]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,s,o,i,c,l,u,m,f,v,b,y,k;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=(0,x.Z)(t.credential),console.log(n),(0,h.t)("authenticating...."),e.prev=4,e.next=7,d.Z.post(p.Z.signup,{first_name:n.given_name,last_name:n.family_name,email:n.email,password:"880710449497-8k8qttcfig311nqmh16l0qjbd53er8he.apps.googleusercontent.com",user_role:"user"});case 7:if(r=e.sent,console.log(r),200!==r.status){e.next=21;break}return u=null===(s=r.data)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.user,m=null===(i=r.data)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.token,g.d.saveUserData(u),g.d.saveAccessToken(m),e.next=16,d.Z.get(p.Z.get_signup_questions+"/".concat(w));case 16:f=e.sent,(v=null===(l=f.data)||void 0===l?void 0:l.data).length>=1?(M(!1),b={questions:v,user:u},(0,h.BY)("Account created successfully,Logged in successfully"),j("/sign-up/questions/".concat(w),{state:b})):(M(!1),(0,h.BY)("Account created successfully"),j("/main/".concat(w))),e.next=22;break;case 21:(0,h.e)("There was an error, please reload the page and try again");case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),console.log(e.t0),(0,h.e)(null===(y=e.t0.response)||void 0===y||null===(k=y.data)||void 0===k?void 0:k.message);case 28:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){google.accounts.id.initialize({client_id:"880710449497-8k8qttcfig311nqmh16l0qjbd53er8he.apps.googleusercontent.com",callback:re}),google.accounts.id.renderButton(document.getElementById("google_sign_icon"),{theme:"outline",size:"large"}),se()}),[]);var se=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.d.getAccessToken();case 2:return t=e.sent,e.next=5,g.d.retrieveUserData();case 5:if(n=e.sent,null===t||null===n){e.next=10;break}window.location.href="/main/".concat(w),e.next=12;break;case 10:return e.next=12,g.d.clearStorage();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function oe(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}return n?(0,v.jsx)(l.Z,{}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"bg-light",style:{minHeight:"100vh"},children:(0,v.jsx)("div",{style:{},className:"flex flex-col justify-center  md:items-center py-8",children:(0,v.jsxs)("div",{className:" md:w-3/12 md:p-0 px-6",children:[(0,v.jsx)("div",{className:"flex flex-col",children:(0,v.jsx)("div",{className:"flex justify-center items-center mb-3",children:(0,v.jsx)(i.Z,{fluid:!0,src:null!==(e=null===y||void 0===y?void 0:y.img)&&void 0!==e?e:"/logo.png",alt:"Logo",style:{height:"100px"}})})}),(0,v.jsx)("p",{className:"text-2xl mb-3 font-bold text-dark",children:"Sign up and start learning"}),(0,v.jsx)("div",{id:"google_sign_icon"}),(0,v.jsx)("small",{className:"text-danger",children:X}),(0,v.jsxs)("form",{action:"",onSubmit:ae,children:[(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)("input",{type:"text",name:"fname",className:"py-3 px-4 w-full placeholder:text-sm border border-black rounded bg-white outline-none",placeholder:"Enter your first name",value:Z,onChange:function(e){return C(e.target.value)}})}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)("input",{type:"text",className:"py-3 px-4 w-full placeholder:text-sm border border-black rounded bg-white outline-none",placeholder:"Enter your last name",name:"lname",value:P,onChange:function(e){return q(e.target.value)}})}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)("input",{type:"email",className:"py-3 px-4 w-full placeholder:text-sm border border-black rounded bg-white outline-none",placeholder:"Enter your email",value:I,onChange:function(e){return U(e.target.value)}})}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)(b,{placeholder:"Enter your password",style:{borderWidth:"2px"},className:"flex py-3 placeholder:text-sm border-black border rounded bg-white justify-between",name:"password",value:T,onChange:function(e){return z(e.target.value)}})}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)(b,{placeholder:"Confirm Password",style:{borderWidth:"2px"},className:"flex py-3 placeholder:text-sm border-black border rounded bg-white justify-between",name:"cpassword",value:R,onChange:function(e){return O(e.target.value)}})}),(0,v.jsx)("div",{className:"flex flex-col items-center mt-3 justify-center",children:(0,v.jsxs)("div",{className:"text-center text-sm",children:[(0,v.jsx)("label",{className:"cursor-pointer mr-2",children:(0,v.jsx)("input",{type:"checkbox",checked:H,onChange:function(e){J(e.target.checked),ne("")},className:"p-0.5 cursor-pointer"})}),'By clicking "Sign up", you agree to'," ",(0,v.jsx)(f.rU,{to:"http://kelemm-digiclass.herokuapp.com/privacy-policy",className:"text-gray-600",children:"DigiClass Terms & Conditions"})]})}),(0,v.jsx)("div",{className:"mt-6 text-center",children:(0,v.jsx)("button",{style:{backgroundColor:null===y||void 0===y?void 0:y.primary_color},type:"submit",className:"inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent px-4 py-2 text-base font-medium text-white",children:K?(0,v.jsx)(c.Z,{}):(0,v.jsx)("p",{className:"text-white",children:"Sign Up"})})}),(0,v.jsxs)("div",{className:"flex items-center mt-6 justify-center",children:[(0,v.jsx)("p",{children:"Already on Digiclass?"}),(0,v.jsx)(f.rU,{to:"/sign-in/".concat(w),children:(0,v.jsx)("p",{className:"ml-2 text-secondary-700",children:"Login"})})]})]})]})})})})}},456:function(e,t,n){function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,o=0,i="";r=t.charAt(o++);~r&&(n=s%4?64*n+r:r,s++%4)?i+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function s(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return r(t)}}function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(s(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}}},2592:function(e,t,n){var a=n(1413),r=n(5987),s=n(1694),o=n.n(s),i=n(2791),c=n(2007),l=n.n(c),u=n(162),d=n(184),p=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],m=(l().string,l().bool,l().bool,l().bool,l().bool,i.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,i=e.fluid,c=void 0!==i&&i,l=e.rounded,m=void 0!==l&&l,f=e.roundedCircle,g=void 0!==f&&f,h=e.thumbnail,x=void 0!==h&&h,v=(0,r.Z)(e,p);return n=(0,u.vE)(n,"img"),(0,d.jsx)("img",(0,a.Z)((0,a.Z)({ref:t},v),{},{className:o()(s,c&&"".concat(n,"-fluid"),m&&"rounded",g&&"rounded-circle",x&&"".concat(n,"-thumbnail"))}))})));m.displayName="Image",t.Z=m},4849:function(e,t,n){var a=n(1413),r=n(5987),s=n(1694),o=n.n(s),i=n(2791),c=n(162),l=n(184),u=["bsPrefix","variant","animation","size","as","className"],d=i.forwardRef((function(e,t){var n=e.bsPrefix,s=e.variant,i=e.animation,d=void 0===i?"border":i,p=e.size,m=e.as,f=void 0===m?"div":m,g=e.className,h=(0,r.Z)(e,u);n=(0,c.vE)(n,"spinner");var x="".concat(n,"-").concat(d);return(0,l.jsx)(f,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:o()(g,x,p&&"".concat(x,"-").concat(p),s&&"text-".concat(s))}))}));d.displayName="Spinner",t.Z=d}}]);
//# sourceMappingURL=525.8440deb1.chunk.js.map