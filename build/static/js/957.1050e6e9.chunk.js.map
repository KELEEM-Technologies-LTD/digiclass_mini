{"version":3,"file":"static/js/957.1050e6e9.chunk.js","mappings":"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","sources":["pages/signin.tsx","../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/index.js","../node_modules/react-bootstrap/esm/Image.js","../node_modules/react-bootstrap/esm/Spinner.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  FloatingLabel,\r\n  Form,\r\n  Image,\r\n  Row,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport LoadingOverLay from \"../components/loader\";\r\nimport GeneralContext from \"../context/gen\";\r\nimport baseService from \"../core/baseServices\";\r\nimport urls from \"../core/base.url\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { StorageBox } from \"../core/storage\";\r\nimport GoogleButton from \"../components/elements/google_button\";\r\nimport {\r\n  displayLoading,\r\n  displaySuccess,\r\n  displayWarning,\r\n} from \"../components/alert\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst Signin = () => {\r\n  const { loading, theme, corpid, setCorpId } = useContext(GeneralContext);\r\n  document.title = `${theme?.name} - DigiClass`;\r\n\r\n  const [currentUrl, setCurrentUrl] = useState<string | null>(\"\");\r\n  const [auth, setAuth] = useState<boolean>(false);\r\n  const [err, setErr] = useState<string>(\"\");\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n\r\n  const { corp_id } = useParams();\r\n  useEffect(() => {\r\n    if (corpid === \"\") {\r\n      setCorpId(corp_id);\r\n    }\r\n  }, []);\r\n\r\n  const signin = async (e: any) => {\r\n    e.preventDefault();\r\n    setAuth(true);\r\n    try {\r\n      const res: any = await baseService.post(urls.signin, {\r\n        username: email,\r\n        password: password,\r\n      });\r\n      // console.log(res.data?.data);\r\n      const response: any = res.data?.data;\r\n\r\n      if (\r\n        response?.user?.is_corporate &&\r\n        response?.user?.corporate_id === corpid\r\n      ) {\r\n        const token = response.token;\r\n        StorageBox.saveAccessToken(token);\r\n\r\n        const res: any = await baseService.get(\r\n          urls.get_corporate + `/${corpid}?`\r\n        );\r\n        const corp = res.data?.data;\r\n        const user = response.user;\r\n\r\n        if (!corp.verify_auth) {\r\n          // const token = response.token;\r\n          StorageBox.saveUserData(user);\r\n          // StorageBox.saveAccessToken(token);\r\n          window.location.href = `/main/${corpid}`;\r\n        } else if (user.user_state === \"pending\") {\r\n          setErr(\r\n            \"This organization has not approved your account to view content on their page.\"\r\n          );\r\n        } else {\r\n          const user = response.user;\r\n          StorageBox.saveUserData(user);\r\n          // StorageBox.saveAccessToken(token);\r\n          window.location.href = `/main/${corpid}`;\r\n        }\r\n      } else {\r\n        setErr(\r\n          \"This organization has not authorized you to view content on their page.\"\r\n        );\r\n      }\r\n      setAuth(false);\r\n    } catch (error: any) {\r\n      // setErr(\"There was an error\");\r\n      // console.log(error?.response?.data?.message);\r\n      setErr(error?.response?.data?.message ?? \"There was an error\");\r\n      setAuth(false);\r\n    }\r\n    // const;\r\n  };\r\n\r\n  const handleHandleCallbackResponse = async (response: any) => {\r\n    // console.log(response);\r\n    // console.log(response.credential);\r\n\r\n    var user: any = jwtDecode(response.credential);\r\n\r\n    // console.log(user);\r\n    try {\r\n      displayLoading(\"authenticating....\");\r\n      const res: any = await baseService.post(urls.signin, {\r\n        username: user.email,\r\n        password:\r\n          \"880710449497-8k8qttcfig311nqmh16l0qjbd53er8he.apps.googleusercontent.com\",\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        const userdata = res.data?.data?.user;\r\n        const token = res.data?.data?.token;\r\n        // const expirationDate = new Date().getTime() + 10 * 60 * 60 * 1000;\r\n\r\n        StorageBox.saveUserData(userdata);\r\n        StorageBox.saveAccessToken(token);\r\n        displaySuccess(\"Logged in successfully\", () => {\r\n          const urlParams = new URLSearchParams(window.location.search);\r\n          const newcur = urlParams.get(\"currentUrl\");\r\n          if (newcur !== null) {\r\n            window.location.href = `/reload?currentUrl=${newcur}`;\r\n          } else {\r\n            window.location.href = \"/reload\";\r\n          }\r\n        });\r\n      } else {\r\n        displayWarning(\r\n          \"There was an error, please reload the page and try again\"\r\n        );\r\n      }\r\n    } catch (err: any) {\r\n      displayWarning(err.response?.data?.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    /* global google */\r\n\r\n    google.accounts.id.initialize({\r\n      client_id:\r\n        \"880710449497-8k8qttcfig311nqmh16l0qjbd53er8he.apps.googleusercontent.com\",\r\n      callback: handleHandleCallbackResponse,\r\n    });\r\n\r\n    google.accounts.id.renderButton(\r\n      document.getElementById(\"google_sign_icon\"),\r\n      { theme: \"outline\", size: \"large\" }\r\n    );\r\n\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const currentUrl = urlParams.get(\"currentUrl\");\r\n    setCurrentUrl(currentUrl);\r\n    checklogin();\r\n  }, []);\r\n\r\n  const checklogin = async () => {\r\n    const token = await StorageBox.getAccessToken();\r\n    const user = await StorageBox.retrieveUserData();\r\n\r\n    if (token !== null && user !== null) {\r\n      window.location.href = `/main/${corpid ? corpid : user.corporate_id}`;\r\n    } else {\r\n      await StorageBox.clearStorage();\r\n    }\r\n  };\r\n\r\n  return loading ? (\r\n    <LoadingOverLay />\r\n  ) : (\r\n    <>\r\n      <div className=\"bg-gray-100\" style={{ minHeight: \"100vh\" }}>\r\n        <div\r\n          style={{}}\r\n          className=\"flex flex-col justify-center  md:items-center pt-8\"\r\n        >\r\n          <div className=\" md:w-3/12 md:p-0 px-6\">\r\n            <div className=\"flex flex-col\">\r\n              <div className=\"flex justify-center items-center mb-3\">\r\n                <Image\r\n                  fluid\r\n                  src={theme?.img}\r\n                  alt=\"Logo\"\r\n                  style={{ height: \"100px\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <p className=\"text-2xl mb-3 font-semibold text-dark text-center\">\r\n              Log into your account\r\n            </p>\r\n            <div style={{ height: \"1.4px\" }} className={`my-4 bg-slate-300`} />\r\n            <div id=\"google_sign_icon\"></div>\r\n            <small className=\"text-danger\">{err}</small>\r\n            <form action=\"\" onSubmit={signin}>\r\n              <div className=\"mt-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"py-3 px-4 w-full border border-black rounded bg-gray-50 outline-none\"\r\n                  placeholder=\"Enter your user id\"\r\n                  value={email}\r\n                  onChange={(e: any) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"mt-3\">\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"py-3 px-4 w-full border border-black rounded bg-gray-50 outline-none\"\r\n                  placeholder=\"Enter your password\"\r\n                  value={password}\r\n                  onChange={(e: any) => setPassword(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex justify-end\">\r\n                <Link\r\n                  to={`/redeem/${corpid}`}\r\n                  className=\"text-decoration-none text-base mt-3\"\r\n                >\r\n                  Redeem account\r\n                </Link>\r\n              </div>\r\n\r\n              <div className=\"mt-4 text-center\">\r\n                <button\r\n                  type=\"submit\"\r\n                  style={{\r\n                    backgroundColor: theme?.primary_color,\r\n                  }}\r\n                  disabled={auth}\r\n                  className=\"whitespace-nonwrap border py-2 px-12 text-base font-medium text-white hover:bg-secondary-800\"\r\n                >\r\n                  {auth ? <Spinner /> : \"Sign In\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <div className=\"flex items-center mt-4 justify-center\">\r\n              <p>New to Digiclass?</p>\r\n              <Link to={`/sign-up/${corpid}`}>\r\n                <p className=\"ml-2 text-base text-gray-700\">Sign Up</p>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <Container className=\"py-4\">\r\n          <Row className=\"justify-content-center\">\r\n            <Col md={6} sm={12}>\r\n              <div className=\"bg-white p-4 text-center\">\r\n                <div className=\"flex justify-center items-center mb-3\">\r\n                  <Image\r\n                    fluid\r\n                    src={theme?.img}\r\n                    alt=\"Logo\"\r\n                    style={{ height: \"100px\" }}\r\n                  />\r\n                </div>\r\n                <h3 className=\"text-3xl\" style={{ fontFamily: \"sans-serif\" }}>\r\n                  {theme?.name}\r\n                </h3>\r\n                <h5 className=\"mt-2 text-base\">Sign in</h5>\r\n\r\n                <small className=\"text-danger\">{err}</small>\r\n                <Form className=\"mt-4\" onSubmit={signin}>\r\n                  <FloatingLabel\r\n                    controlId=\"floatingEmail\"\r\n                    className=\"mb-3\"\r\n                    label=\"username\"\r\n                  >\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"example@gmail.com\"\r\n                      required={true}\r\n                      value={email}\r\n                      onChange={(e: any) => setEmail(e.target.value)}\r\n                    />\r\n                  </FloatingLabel>\r\n\r\n                  <FloatingLabel\r\n                    controlId=\"floatingPassword\"\r\n                    className=\"mb-3\"\r\n                    label=\"Password\"\r\n                  >\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      required={true}\r\n                      value={password}\r\n                      onChange={(e: any) => setPassword(e.target.value)}\r\n                    />\r\n                  </FloatingLabel>\r\n\r\n                  <div className=\" flex justify-between\">\r\n                    <div className=\"flex lg:text-base text-sm\">\r\n                      <p>\r\n                        Do have an account?{\" \"}\r\n                        <Link\r\n                          to={`/sign-up/${corpid}`}\r\n                          className=\"text-decoration-none\"\r\n                        >\r\n                          Signup here\r\n                        </Link>\r\n                      </p>\r\n                    </div>\r\n                    <Link\r\n                      to={`/redeem/${corpid}`}\r\n                      className=\"text-decoration-none\"\r\n                    >\r\n                      Redeem account\r\n                    </Link>\r\n                  </div>\r\n\r\n                  <div className=\"text-center\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      style={{\r\n                        margin: \"auto\",\r\n                        padding: \"14px 16px\",\r\n                        color: \"white\",\r\n                        opacity: 1,\r\n                        backgroundColor: theme?.primary_color,\r\n                        border: \"none\",\r\n                      }}\r\n                      disabled={auth}\r\n                    >\r\n                      {auth ? <Spinner /> : \"Sign In\"}\r\n                    </button>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container> */}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nconst Image = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  fluid = false,\n  rounded = false,\n  roundedCircle = false,\n  thumbnail = false,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  return /*#__PURE__*/_jsx(\"img\", {\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref,\n    ...props,\n    className: classNames(className, fluid && `${bsPrefix}-fluid`, rounded && `rounded`, roundedCircle && `rounded-circle`, thumbnail && `${bsPrefix}-thumbnail`)\n  });\n});\nImage.displayName = 'Image';\nexport default Image;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Spinner = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  variant,\n  animation = 'border',\n  size,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  className,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  const bsSpinnerPrefix = `${bsPrefix}-${animation}`;\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, bsSpinnerPrefix, size && `${bsSpinnerPrefix}-${size}`, variant && `text-${variant}`)\n  });\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;"],"names":["_useContext","useContext","GeneralContext","loading","theme","corpid","setCorpId","document","title","concat","name","_useState","useState","_useState2","_slicedToArray","setCurrentUrl","_useState3","_useState4","auth","setAuth","_useState5","_useState6","err","setErr","_useState7","_useState8","email","setEmail","_useState9","_useState10","password","setPassword","corp_id","useParams","useEffect","signin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","_res$data","_response$user","_response$user2","res","response","_res$data2","token","_res","corp","user","_user","_error$response$data$","_error$response","_error$response$data","wrap","_context","prev","next","preventDefault","baseService","urls","username","sent","data","is_corporate","corporate_id","StorageBox","verify_auth","user_state","window","location","href","t0","message","stop","_x","apply","arguments","handleHandleCallbackResponse","_ref2","_callee2","_res$data3","_res$data3$data","_res$data4","_res$data4$data","userdata","_err$response","_err$response$data","_context2","jwtDecode","credential","displayLoading","status","displaySuccess","newcur","URLSearchParams","search","get","displayWarning","_x2","google","accounts","id","initialize","client_id","callback","renderButton","getElementById","size","currentUrl","checklogin","_ref3","_callee3","_context3","_jsx","LoadingOverLay","_Fragment","children","className","style","minHeight","_jsxs","Image","fluid","src","img","alt","height","action","onSubmit","type","placeholder","value","onChange","target","Link","to","backgroundColor","primary_color","disabled","Spinner","this","prototype","Error","r","atob","bind","t","String","replace","length","n","o","a","i","c","charAt","fromCharCode","indexOf","decodeURIComponent","charCodeAt","toString","toUpperCase","header","JSON","parse","split","PropTypes","React","ref","bsPrefix","_ref$fluid","_ref$rounded","rounded","_ref$roundedCircle","roundedCircle","_ref$thumbnail","thumbnail","props","_objectWithoutProperties","_excluded","useBootstrapPrefix","_objectSpread","classNames","displayName","variant","_ref$animation","animation","_ref$as","as","Component","bsSpinnerPrefix"],"sourceRoot":""}