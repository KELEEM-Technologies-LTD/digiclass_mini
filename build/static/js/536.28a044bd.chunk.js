"use strict";(self.webpackChunkdigiclass_mini=self.webpackChunkdigiclass_mini||[]).push([[536],{3107:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(4165),a=n(5861),i=n(9439),o=n(9201),l=n(184),s=(0,o.Z)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"}),"PauseCircle"),c=(0,o.Z)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle"),d=n(2791),u=n(8356),v=n(5240),x=n(4880),h=n(2981),f=n(5770);function p(e){var t=(0,d.useContext)(v.Z),n=t.theme,o=t.setCurrent,p=t.current,m=e.data,b=e.checkStatus,w=m.name,j=m.course_id,Z=m.url,g=m.section_id,y=function(){o({url:Z,section_name:w,course_id:j})},_=(0,d.useState)(!1),k=(0,i.Z)(_,2),C=k[0],N=k[1],z=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.d.retrieveUserData(),e.prev=1,e.next=4,f.Z.put(h.Z.updateSection+"/".concat(t.user_id,"/").concat(j,"/").concat(g),{});case 4:N(!C),b(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.d.retrieveUserData(),e.prev=1,e.next=4,f.Z.get(h.Z.getSectionStatus+"/".concat(t.user_id,"/").concat(g));case 4:i=e.sent,0===(null===(n=i.data)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.length)?N(!1):N(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){S()}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex mb-3 ml-5",children:[(null===p||void 0===p?void 0:p.section_name)===w?(0,l.jsx)(s,{style:{color:null===n||void 0===n?void 0:n.primary_color},onClick:y,className:"w-7 h-7 mr-2 cursor-pointer"}):(0,l.jsx)(c,{style:{color:null===n||void 0===n?void 0:n.primary_color},className:"w-7 h-7 mr-2 cursor-pointer",onClick:y}),(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)("p",{className:"text-sm",children:w})}),(0,l.jsx)("div",{className:"ml-auto text-sm",children:(0,l.jsx)(u.Z.Check,{type:"switch",label:"Mark as completed",checked:C,onChange:z})})]})})}},8429:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(4165),a=n(5861),i=n(9439),o=n(9631),l=n(8484),s=n(827),c=n(9124),d=n(3896),u=n(2426),v=n.n(u),x=n(2791),h=n(7022),f=n(6710),p=n(7689),m=n(3908),b=n(5240),w=n(2981),j=n(5770),Z=n(4880),g=n(9588),y=n(5672),_=n(3758),k=n(8076),C=n(3107),N=n(3367),z=n(6379),S=n(184);function M(){var e,t=(0,x.useContext)(b.Z),n=t.current,u=t.theme,M=t.setCurrent,q=(t.player,t.setPlayer),H=t.corpid,V=t.setCorpId,U=(0,p.UO)(),Y=U.corp_id,D=U.course_id;(0,x.useEffect)((function(){Z.d.retrieveUserData().corporate_id!==Y&&(Z.d.clearStorage(),window.location.href="/sign-in/".concat(Y)),""===H&&V(Y)}),[]);var F=(0,x.useState)(!0),A=(0,i.Z)(F,2),E=A[0],P=A[1],I=(0,x.useState)([]),Q=(0,i.Z)(I,2),B=Q[0],O=Q[1],R=(0,x.useState)([]),L=(0,i.Z)(R,2),G=L[0],J=L[1],K=(0,x.useState)([]),T=(0,i.Z)(K,2),W=T[0],X=T[1],$=(0,x.useState)([]),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1],re=(0,x.useState)([]),ae=(0,i.Z)(re,2),ie=ae[0],oe=ae[1],le=(0,x.useState)([]),se=(0,i.Z)(le,2),ce=se[0],de=se[1],ue=(0,x.useState)(!1),ve=(0,i.Z)(ue,2),xe=ve[0],he=ve[1],fe=(0,x.useState)((0,S.jsx)(S.Fragment,{})),pe=(0,i.Z)(fe,2),me=pe[0],be=pe[1],we=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a,i,o,l,s,c,d,x,f,p,m,b,g,y,_,k,C,N,z,H,V,U,F,A,E,I,Q,B,R,L,G,K,T,W,$,ee,te,re,ae,ie,le,se,ce,ue,ve,xe,fe,pe;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Z.get(w.Z.getCourses+"/".concat(D,"?query_fields=title,status,about,caption,short_description,description,about,skill_level,language,price,caption,instructor,configurations,certificate,contract_percentage,status,view_status,updatedAt,thumbnail"));case 3:return z=e.sent,O(null===(t=z.data)||void 0===t?void 0:t.data),e.next=7,j.Z.get(w.Z.getUser+"/".concat(null===z||void 0===z||null===(n=z.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.instructor));case 7:return H=e.sent,oe(null===(i=H.data)||void 0===i?void 0:i.data),e.next=11,j.Z.get(w.Z.quiz_questions+"/".concat(D));case 11:if(V=e.sent,de(null===(o=V.data)||void 0===o?void 0:o.payload),null===(l=z.data)||void 0===l||null===(s=l.data)||void 0===s||null===(c=s.configurations)||void 0===c||!c.quiz_required||0===(null===(d=V.data)||void 0===d||null===(x=d.payload)||void 0===x?void 0:x.length)){e.next=41;break}return A=Z.d.retrieveUserData(),e.next=17,j.Z.get(w.Z.results+"/".concat(null===A||void 0===A?void 0:A.user_id,"/").concat(D));case 17:if(E=e.sent,"passed"!==(I=null===(U=E.data)||void 0===U||null===(F=U.payload)||void 0===F?void 0:F.result_status)){e.next=24;break}he(!0),be((0,S.jsxs)(h.Z,{children:[(0,S.jsxs)("p",{children:["You have completed ",null===(Q=z.data)||void 0===Q||null===(B=Q.data)||void 0===B?void 0:B.title," your certificate is ready here"]}),(0,S.jsxs)("div",{className:"mt-2 flex flex-col md:flex-row justify-between p-2",children:[(0,S.jsx)("button",{className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[#f54242] px-10 py-2 text-base font-medium text-white shadow-xl hover:bg-[#e87979] mb-2",onClick:function(){ye(!1),he(!1)},children:"Continue watching"}),(0,S.jsx)("button",{onClick:function(){var e;return Se("/certifications/".concat(Y,"/").concat(null===(e=z.data)||void 0===e?void 0:e.data.course_id))},className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[".concat(null===u||void 0===u?void 0:u.primary_color,"] px-5 py-2 text-base font-medium text-white shadow-xl w-10 hover:bg-secondary-800"),children:"Certificate"})]})]})),e.next=41;break;case 24:if("pending"!==I){e.next=29;break}he(!0),be((0,S.jsxs)(h.Z,{children:[(0,S.jsx)("p",{children:"Quiz submitted, please await instructor review"}),(0,S.jsx)("div",{className:"mt-2 flex flex-col md:flex-row justify-between p-2",children:(0,S.jsx)("button",{className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[#f54242] px-10 py-2 text-base font-medium text-white shadow-xl hover:bg-[#e87979] mb-2",onClick:function(){ye(!1),he(!1)},children:"Continue watching"})})]})),e.next=41;break;case 29:if("failed"!==I){e.next=41;break}if(ee=null===(R=E.data)||void 0===R||null===(L=R.payload)||void 0===L?void 0:L.date_added,te=parseInt(null===(G=z.data)||void 0===G||null===(K=G.data)||void 0===K||null===(T=K.configurations)||void 0===T?void 0:T.reseat),re=v()(ee).add(te,"days"),ae=re.format(),!v()().isAfter(re)){e.next=39;break}return console.log("time expired"),e.next=38,j.Z.put(w.Z.request_reseat+"/".concat(null===A||void 0===A?void 0:A.user_id,"/").concat(D),{});case 38:window.location.reload();case 39:he(!0),be((0,S.jsxs)(h.Z,{children:[(0,S.jsxs)("p",{className:"p-4",children:["You have completed ",null===(W=z.data)||void 0===W||null===($=W.data)||void 0===$?void 0:$.title,", however you did no meet the course requirements for a pass, contact instructor to schedule a retake of the quiz ",(0,S.jsx)("br",{}),"Quiz would be available on"," ",v()(ae).format("Do MMMM YYYY, HH:MM:SS")]}),(0,S.jsx)("div",{className:"mt-2 flex flex-col md:flex-row justify-between p-2",children:(0,S.jsx)("button",{className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[#f54242] px-10 py-2 text-base font-medium text-white shadow-xl hover:bg-[#e87979] mb-2",onClick:function(){ye(!1),he(!1)},children:"Continue watching"})})]}));case 41:return e.next=43,j.Z.get(w.Z.getReviews+"?course_id=".concat(D));case 43:return ie=e.sent,J(null===(f=ie.data)||void 0===f||null===(p=f.data)||void 0===p?void 0:p.data),le=Z.d.retrieveUserData(),e.next=48,j.Z.get(w.Z.getCourses+"/".concat(D,"/users/").concat(le.user_id));case 48:return se=e.sent,ce=null===(m=se.data)||void 0===m||null===(b=m.data)||void 0===b?void 0:b.videos,ue=null===(g=se.data)||void 0===g||null===(y=g.data)||void 0===y?void 0:y.sections,X(ue),ve=null===ue||void 0===ue?void 0:ue[0],xe=null===ce||void 0===ce||null===(_=ce[null===ue||void 0===ue||null===(C=ue[0])||void 0===C?void 0:C.section_id])||void 0===_||null===(k=_[0])||void 0===k?void 0:k.url,fe={url:xe,section_name:null===ve||void 0===ve?void 0:ve.name,course_id:D,paid:!0},M(fe),q(!1),e.next=59,j.Z.get(w.Z.faq+"/".concat(D));case 59:pe=e.sent,ne(null===(N=pe.data)||void 0===N?void 0:N.payload),P(!1),e.next=67;break;case 64:e.prev=64,e.t0=e.catch(0),console.log(e.t0);case 67:case"end":return e.stop()}}),e,null,[[0,64]])})));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){we()}),[]),(0,x.useEffect)((function(){_e(W.length)}),[W]);var je=(0,x.useState)(!1),Ze=(0,i.Z)(je,2),ge=Ze[0],ye=Ze[1],_e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.c)(D,t);case 2:n=e.sent,ye(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=(0,x.useState)(0),Ce=(0,i.Z)(ke,2),Ne=Ce[0],ze=Ce[1],Se=(0,p.s0)();return E?(0,S.jsx)(m.Z,{}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"bg-[".concat(null===u||void 0===u?void 0:u.primary_color,"] w-full py-6 px-4 flex gap-3"),children:(0,S.jsxs)("button",{onClick:function(){return Se(-1)},className:"text-white",children:[(0,S.jsx)(o.Z,{}),null===B||void 0===B?void 0:B.title]})}),(0,S.jsxs)("div",{style:{minHeight:"100vh"},children:[(0,S.jsxs)("div",{className:"flex flex-wrap",children:[(0,S.jsx)("div",{className:"w-full md:w-8/12",children:xe?(0,S.jsx)("div",{className:"w-full h-[60vh] flex items-center justify-center",children:me}):ge?(0,S.jsx)(x.Fragment,{children:(0,S.jsx)("div",{className:"w-full h-[60vh] flex flex-col md:flex-row items-center justify-center",children:null!==(e=B.configurations)&&void 0!==e&&e.quiz_required&&0!==(null===ce||void 0===ce?void 0:ce.length)?(0,S.jsxs)("div",{children:[(0,S.jsxs)("p",{children:["You have completed ",null===B||void 0===B?void 0:B.title," please take a quiz now"]}),(0,S.jsxs)("div",{className:"mt-2 flex flex-col md:flex-row justify-between p-2",children:[(0,S.jsx)("button",{className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[#f54242] px-10 py-2 text-base font-medium text-white shadow-xl hover:bg-[#e87979] mb-2",onClick:function(){return ye(!1)},children:"Continue watching"}),(0,S.jsx)("button",{onClick:function(){return Se("/start-quiz/".concat(Y,"/").concat(D))},className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[".concat(null===u||void 0===u?void 0:u.primary_color,"] px-5 py-2 text-base font-medium text-white shadow-xl w-10 hover:bg-secondary-800"),children:"Start quiz"})]})]}):(0,S.jsxs)("div",{children:[(0,S.jsxs)("p",{children:["You have completed ",null===B||void 0===B?void 0:B.title," your certificate is ready here"]}),(0,S.jsxs)("div",{className:"mt-2 flex flex-col md:flex-row justify-between p-2",children:[(0,S.jsx)("button",{className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[#f54242] px-10 py-2 text-base font-medium text-white shadow-xl hover:bg-[#e87979] mb-2",onClick:function(){return ye(!1)},children:"Continue watching"}),(0,S.jsx)("button",{onClick:function(){return Se("/certifications/".concat(Y,"/").concat(B.course_id))},className:"ml-8 inline-flex items-center justify-center whitespace-nowrap rounded-2 border border-transparent bg-[".concat(null===u||void 0===u?void 0:u.primary_color,"] px-5 py-2 text-base font-medium text-white shadow-xl w-10 hover:bg-secondary-800"),children:"Certificate"})]})]})})}):(0,S.jsxs)(x.Fragment,{children:[(0,S.jsx)(f.Z,{width:"100%",height:"70vh",url:null===n||void 0===n?void 0:n.url,playing:!1,controls:!0,light:null===B||void 0===B?void 0:B.thumbnail,playIcon:(0,S.jsx)(l.Z,{className:"w-20 h-20 my-40",style:{color:"white"}}),config:{file:{attributes:{controlsList:"nodownload"}}}}),(0,S.jsx)(s.Z,{style:{color:null===u||void 0===u?void 0:u.primary_color,cursor:"pointer"},onClick:function(){return q(!0)}})]})}),(0,S.jsxs)("div",{className:"w-full md:w-4/12",children:[(0,S.jsx)("div",{className:"px-4 py-3 bg-white",children:(0,S.jsx)("p",{className:"text-[".concat(null===u||void 0===u?void 0:u.primary_color,"] text-lg"),children:"Course content"})}),(0,S.jsx)("hr",{className:"my-1 mx-5 border-t border-blue-400"}),(0,S.jsx)("div",{className:"px-4 pt-4 pb-2 text-sm text-secondary-500",children:W.map((function(e,t){return(0,S.jsx)(C.Z,{data:e,checkStatus:function(){return _e(W.length)}},t)}))})]})]}),(0,S.jsxs)(h.Z,{fluid:!0,children:[(0,S.jsxs)(c.Z,{value:Ne,onChange:function(e,t){return ze(t)},variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,children:[(0,S.jsx)(d.Z,{label:"Overview"}),(0,S.jsx)(d.Z,{label:"Reviews"}),(0,S.jsx)(d.Z,{label:"Author"}),(0,S.jsx)(d.Z,{label:"FAQ"}),(0,S.jsx)(d.Z,{label:"Files"})]}),(0,S.jsxs)("div",{style:{minHeight:"50vh"},className:"px-5 mt-4",children:[0===Ne?(0,S.jsx)(_.Z,{data:B,completed:ge,setCompleted:ye}):null,1===Ne?(0,S.jsx)(k.Z,{data:G,reload:we}):null,2===Ne?(0,S.jsx)(g.Z,{instructor:ie,course_detail:B}):null,3===Ne?(0,S.jsx)(y.Z,{data:te}):null,4===Ne?(0,S.jsx)(N.Z,{course_id:D}):null]})]})]})]})}},6379:function(e,t,n){n.d(t,{c:function(){return s}});var r=n(4165),a=n(5861),i=n(2981),o=n(5770),l=n(4880),s=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s,c,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get(i.Z.getAllCompletedSections+"/".concat(l.d.retrieveUserData().user_id,"/").concat(t));case 3:if(c=e.sent,d=null===(a=c.data)||void 0===a||null===(s=a.payload)||void 0===s?void 0:s.length,!(d/n<1)){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}()},827:function(e,t,n){var r=n(9201),a=n(184);t.Z=(0,r.Z)((0,a.jsx)("path",{d:"M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z"}),"PhotoSizeSelectSmall")}}]);
//# sourceMappingURL=536.28a044bd.chunk.js.map